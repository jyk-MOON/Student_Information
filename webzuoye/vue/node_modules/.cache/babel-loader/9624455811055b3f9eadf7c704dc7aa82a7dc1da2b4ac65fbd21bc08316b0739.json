{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Manager\",\n  data() {\n    return {\n      isChange: false,\n      theme: {\n        color: \"orange\"\n      },\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  created() {\n    if (!this.user.id) {\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}'); // 重新获取下用户的最新信息\n    },\n\n    logout(command) {\n      localStorage.removeItem('xm-user');\n      this.$router.push('/login');\n    },\n    backgroundChange() {\n      this.isChange = !this.isChange;\n    }\n  }\n};","map":{"version":3,"names":["name","data","isChange","theme","color","user","JSON","parse","localStorage","getItem","created","id","$router","push","methods","updateUser","logout","command","removeItem","backgroundChange"],"sources":["src/views/Manager.vue"],"sourcesContent":["<template>\r\n  <div :class=\"{'manager-container':!isChange,'manager-container1':isChange}\">\r\n    <!--  头部  -->\r\n    <div :class=\"{'manager-header1':isChange,'manager-header':!isChange}\" >\r\n      <div class=\"manager-header-left\">\r\n        <div class=\"title\">web系统</div>\r\n      </div>\r\n\r\n      <div class=\"manager-header-center\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item :to=\"{ path: $route.path }\">{{ $route.meta.name }}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n\r\n      <div>\r\n        <el-dropdown @command=\"logout\">\r\n          <span style=\"align-items: center;font-size: 25px;cursor: pointer\">\r\n            {{user?.name}}用户<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"2\">日历</el-dropdown-item>\r\n            <el-dropdown-item command=\"1\">退出</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!--  主体  -->\r\n    <div class=\"manager-main\">\r\n      <!--  侧边栏  -->\r\n      <div class=\"manager-main-left\">\r\n        <el-menu :default-openeds=\"['info', 'user']\" router style=\"border: none\" :default-active=\"$route.path\">\r\n          <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/home\">\r\n            <i class=\"el-icon-s-home\"></i>\r\n            <span slot=\"title\">首页</span>\r\n          </el-menu-item>\r\n          <el-submenu index=\"info\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-menu\"></i><span>功能管理</span>\r\n            </template>\r\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/user\">用户管理</el-menu-item>\r\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/user\">文章管理</el-menu-item>\r\n          </el-submenu>\r\n          <el-submenu index=\"info\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-menu\"></i><span>背景切换</span>\r\n            </template>\r\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" @click=\"backgroundChange(1)\">背景1</el-menu-item>\r\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" @click=\"backgroundChange(2)\">背景2</el-menu-item>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </div>\r\n\r\n      <!--  数据表格  -->\r\n      <div class=\"manager-main-right\">\r\n        <router-view @update:user=\"updateUser\" />\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"Manager\",\r\n  data() {\r\n    return {\r\n      isChange:false,\r\n      theme:{\r\n        color:\"orange\"\r\n      },\r\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n    }\r\n  },\r\n  created() {\r\n    if (!this.user.id) {\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods: {\r\n    updateUser() {\r\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}')   // 重新获取下用户的最新信息\r\n    },\r\n    logout(command) {\r\n      localStorage.removeItem('xm-user')\r\n      this.$router.push('/login')\r\n    },\r\n    backgroundChange(){\r\n      this.isChange = !this.isChange;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.manager-header1 {\r\n  display: flex;\r\n  background-color: deepskyblue;\r\n  height: 50px;\r\n}\r\n.manager-container1 {\r\n  background-color:powderblue !important;\r\n  min-height: 100vh;\r\n}\r\n.el-menu-item1 {\r\n  background-color: powderblue !important;\r\n  color: blue;\r\n}\r\n.manager-container {\r\n  background-color:#f9ece6 !important;\r\n  min-height: 100vh;\r\n}\r\n\r\n.manager-header {\r\n  display: flex;\r\n  background-color: #f96332;\r\n  height: 50px;\r\n}\r\n\r\n.manager-header-left {\r\n  width: 250px;\r\n  height: 50px;\r\n  padding-left: 10px;\r\n  display: flex;\r\n  align-items: center\r\n}\r\n\r\n.manager-header-left img {\r\n  width: 35px;\r\n  height: 35px;\r\n}\r\n\r\n.manager-header-left .title {\r\n  flex: 1;\r\n  margin-left: 5px;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #fff\r\n}\r\n\r\n.manager-header-center {\r\n  flex: 1;\r\n  width: 0;\r\n  display: flex;\r\n  align-items: center\r\n}\r\n\r\n.manager-header-right .avatar img {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  margin-right: 5px\r\n}\r\n\r\n.manager-main {\r\n  display: flex;\r\n}\r\n\r\n.manager-main-left {\r\n  width: 200px;\r\n  min-height: calc(100vh - 60px);\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, .1);\r\n}\r\n\r\n.manager-main-right {\r\n  flex: 1;\r\n  width: 0;\r\n  padding: 10px;\r\n}\r\n\r\n\r\n.el-menu-item2 {\r\n  background-color: #f9ece6 !important;\r\n  color: #f96332;\r\n}\r\n@media screen and (max-width: 800px) {\r\n  .manager-header{display:none}\r\n  .manager-main-left{display: none}\r\n}\r\n</style>"],"mappings":";AAkEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;QACAC,KAAA;MACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,UAAAL,IAAA,CAAAM,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAV,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;;IACAO,OAAAC,OAAA;MACAT,YAAA,CAAAU,UAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;IACA;IACAM,iBAAA;MACA,KAAAjB,QAAA,SAAAA,QAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}