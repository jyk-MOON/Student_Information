{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Manager\",\n  data() {\n    return {\n      isChange: false,\n      theme: {\n        color: \"orange\"\n      },\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  created() {\n    if (!this.user.id) {\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}'); // 重新获取下用户的最新信息\n    },\n\n    logout(command) {\n      localStorage.removeItem('xm-user');\n      this.$router.push('/login');\n    },\n    backgroundChange(num) {\n      this.isChange = num;\n    }\n  }\n};","map":{"version":3,"names":["name","data","isChange","theme","color","user","JSON","parse","localStorage","getItem","created","id","$router","push","methods","updateUser","logout","command","removeItem","backgroundChange","num"],"sources":["src/views/Manager.vue"],"sourcesContent":["<template>\n  <div :class=\"{'manager-container':!isChange,'manager-container1':isChange}\">\n    <!--  头部  -->\n    <div :class=\"{'manager-header1':isChange,'manager-header':!isChange}\" >\n      <div class=\"manager-header-left\">\n        <div class=\"title\">web系统</div>\n      </div>\n\n      <div class=\"manager-header-center\">\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n          <el-breadcrumb-item :to=\"{ path: $route.path }\">{{ $route.meta.name }}</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n      <div>\n        <el-dropdown @command=\"logout\">\n          <span style=\"align-items: center;font-size: 25px;cursor: pointer\">\n            {{user?.name}}用户<i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"2\">日历</el-dropdown-item>\n            <el-dropdown-item command=\"1\">退出</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n\n    </div>\n\n    <!--  主体  -->\n    <div class=\"manager-main\">\n      <!--  侧边栏  -->\n      <div class=\"manager-main-left\">\n        <el-menu :default-openeds=\"['info', 'book']\" router style=\"border: none\" :default-active=\"$route.path\">\n          <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/home\">\n            <i class=\"el-icon-s-home\"></i>\n            <span slot=\"title\">首页</span>\n          </el-menu-item>\n\n          <!-- 用户管理菜单组 -->\n          <el-submenu index=\"user\">\n            <template slot=\"title\">\n              <i class=\"el-icon-user\"></i><span>用户管理</span>\n            </template>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/user\">\n              用户信息\n            </el-menu-item>\n          </el-submenu>\n\n          <!-- 图书管理菜单组（整合所有图书相关功能） -->\n          <el-submenu index=\"book\">\n            <template slot=\"title\">\n              <i class=\"el-icon-notebook-2\"></i><span>图书管理</span>\n            </template>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/book\">\n              <i class=\"el-icon-reading\"></i>图书列表\n            </el-menu-item>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/borrow-record\">\n              <i class=\"el-icon-tickets\"></i>借阅记录\n            </el-menu-item>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" index=\"/student-borrow-query\">\n              <i class=\"el-icon-search\"></i>学生借阅查询\n            </el-menu-item>\n          </el-submenu>\n\n          <!-- 背景切换菜单组 -->\n          <el-submenu index=\"background\">\n            <template slot=\"title\">\n              <i class=\"el-icon-picture-outline\"></i><span>背景切换</span>\n            </template>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" @click=\"backgroundChange(0)\">背景1</el-menu-item>\n            <el-menu-item :class=\"{'el-menu-item2':!isChange,'el-menu-item1 ':isChange}\" @click=\"backgroundChange(1)\">背景2</el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </div>\n\n      <!--  数据表格  -->\n      <div class=\"manager-main-right\">\n        <router-view @update:user=\"updateUser\" />\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"Manager\",\n  data() {\n    return {\n      isChange:false,\n      theme:{\n        color:\"orange\"\n      },\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n    }\n  },\n  created() {\n    if (!this.user.id) {\n      this.$router.push('/login')\n    }\n  },\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}')   // 重新获取下用户的最新信息\n    },\n    logout(command) {\n      localStorage.removeItem('xm-user')\n      this.$router.push('/login')\n    },\n    backgroundChange(num){\n      this.isChange = num;\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n.manager-header1 {\n  display: flex;\n  background-color: deepskyblue;\n  height: 50px;\n}\n.manager-container1 {\n  background-color:powderblue !important;\n  min-height: 100vh;\n}\n.el-menu-item1 {\n  background-color: powderblue !important;\n  color: blue;\n}\n.manager-container {\n  background-color:#f9ece6 !important;\n  min-height: 100vh;\n}\n\n.manager-header {\n  display: flex;\n  background-color: #f96332;\n  height: 50px;\n}\n\n.manager-header-left {\n  width: 250px;\n  height: 50px;\n  padding-left: 10px;\n  display: flex;\n  align-items: center\n}\n\n.manager-header-left img {\n  width: 35px;\n  height: 35px;\n}\n\n.manager-header-left .title {\n  flex: 1;\n  margin-left: 5px;\n  font-size: 18px;\n  font-weight: bold;\n  color: #fff\n}\n\n.manager-header-center {\n  flex: 1;\n  width: 0;\n  display: flex;\n  align-items: center\n}\n\n.manager-header-right .avatar img {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 5px\n}\n\n.manager-main {\n  display: flex;\n}\n\n.manager-main-left {\n  width: 200px;\n  min-height: calc(100vh - 60px);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, .1);\n}\n\n.manager-main-right {\n  flex: 1;\n  width: 0;\n  padding: 10px;\n}\n\n\n.el-menu-item2 {\n  background-color: #f9ece6 !important;\n  color: #f96332;\n}\n@media screen and (max-width: 800px) {\n  .manager-header{display:none}\n  .manager-main-left{display: none}\n}\n</style>"],"mappings":";AAuFA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;QACAC,KAAA;MACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,UAAAL,IAAA,CAAAM,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAV,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;;IACAO,OAAAC,OAAA;MACAT,YAAA,CAAAU,UAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;IACA;IACAM,iBAAAC,GAAA;MACA,KAAAlB,QAAA,GAAAkB,GAAA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}